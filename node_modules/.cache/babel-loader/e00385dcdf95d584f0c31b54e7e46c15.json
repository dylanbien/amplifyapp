{"ast":null,"code":"import { __assign, __awaiter, __generator } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nexport var eventStreamHeaderMiddleware = function (next) {\n  return function (args) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var request;\n      return __generator(this, function (_a) {\n        request = args.request;\n        if (!HttpRequest.isInstance(request)) return [2\n        /*return*/\n        , next(args)];\n        request.headers = __assign(__assign({}, request.headers), {\n          \"Content-Type\": \"application/vnd.amazon.eventstream\",\n          \"x-amz-content-sha256\": \"STREAMING-AWS4-HMAC-SHA256-EVENTS\"\n        });\n        return [2\n        /*return*/\n        , next(__assign(__assign({}, args), {\n          request: request\n        }))];\n      });\n    });\n  };\n};\nexport var eventStreamHeaderMiddlewareOptions = {\n  step: \"build\",\n  tags: [\"EVENT_STREAM\", \"HEADER\", \"CONTENT_TYPE\", \"CONTENT_SHA256\"],\n  name: \"eventStreamHeaderMiddleware\",\n  override: true\n};","map":{"version":3,"mappings":";AAAA,SAASA,WAAT,QAA4B,wBAA5B;AAEA,OAAO,IAAMC,2BAA2B,GAA8B,UAACC,IAAD,EAAK;EAAK,iBAAOC,IAAP,EAAW;IAAA;;;QACjFC,OAAO,GAAKD,IAAI,QAAhB;QACR,IAAI,CAACH,WAAW,CAACK,UAAZ,CAAuBD,OAAvB,CAAL,EAAsC;QAAA;QAAA,EAAOF,IAAI,CAACC,IAAD,CAAX;QACtCC,OAAO,CAACE,OAAR,GAAeC,sBACVH,OAAO,CAACE,OADE,GACK;UAClB,gBAAgB,oCADE;UAElB,wBAAwB;QAFN,CADL,CAAf;QAKA;QAAA;QAAA,EAAOJ,IAAI,uBACNC,IADM,GACF;UACPC,OAAO;QADA,CADE,EAAX;;KARyF;EAY1F,CAZ+E;AAY/E,CAZM;AAcP,OAAO,IAAMI,kCAAkC,GAAwB;EACrEC,IAAI,EAAE,OAD+D;EAErEC,IAAI,EAAE,CAAC,cAAD,EAAiB,QAAjB,EAA2B,cAA3B,EAA2C,gBAA3C,CAF+D;EAGrEC,IAAI,EAAE,6BAH+D;EAIrEC,QAAQ,EAAE;AAJ2D,CAAhE","names":["HttpRequest","eventStreamHeaderMiddleware","next","args","request","isInstance","headers","__assign","eventStreamHeaderMiddlewareOptions","step","tags","name","override"],"sources":["/Users/dylanbienstock/Documents/cs98/hack-a-thing-1/amplifyapp/node_modules/@aws-sdk/middleware-eventstream/src/headers-middleware.ts"],"sourcesContent":["import { HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { BuildHandlerOptions, BuildMiddleware } from \"@aws-sdk/types\";\nexport const eventStreamHeaderMiddleware: BuildMiddleware<any, any> = (next) => async (args) => {\n  const { request } = args;\n  if (!HttpRequest.isInstance(request)) return next(args);\n  request.headers = {\n    ...request.headers,\n    \"Content-Type\": \"application/vnd.amazon.eventstream\",\n    \"x-amz-content-sha256\": \"STREAMING-AWS4-HMAC-SHA256-EVENTS\",\n  };\n  return next({\n    ...args,\n    request,\n  });\n};\n\nexport const eventStreamHeaderMiddlewareOptions: BuildHandlerOptions = {\n  step: \"build\",\n  tags: [\"EVENT_STREAM\", \"HEADER\", \"CONTENT_TYPE\", \"CONTENT_SHA256\"],\n  name: \"eventStreamHeaderMiddleware\",\n  override: true,\n};\n"]},"metadata":{},"sourceType":"module"}